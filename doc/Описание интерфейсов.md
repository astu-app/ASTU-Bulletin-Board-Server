# Описание интерфейсов

## Доска объявлений

### Просмотреть доску объявлений
Основной интерфейс доски объявлений - лента объявлений. На доске могут быть представлены объявления различных типов: 
* текстовые
* с медиафайлом
* текстовые с медиафайлом
* с вложением
* текстовые с вложением
* с опросом
* текстовые с опросом

В каждом из объявлений указывается:
* автор
* дата и время публикации
  * год не указывается, если объявление опубликовано в текущем году
  * год указывается, если объявление опубликовано в прошлые годы
* статистика просмотра объявления

Пользователю доступна статистика просмотра объявления в случае, если он является:
* автором объявления
* администратором группы, в которую входит автор объявления
* администратором доски объявлений

### Скачать файлы
На незагруженном файле присутствует круглая кнопка "Скачать" с иконкой загрузки. По нажатии кнопки вокруг кнопки 
появляется круглая полоса прогресса загрузки файла. По окончании загрузки полоса прогресса исчезает. 
Скачанный файл можно открыть в соответствующем формату файла приложении. 


### Пройти опросы
Проходить опрос можно с основного интерфейса доски объявлений. 

На каждом пункте опроса, в котором пользователь еще не участвовал, отображается кнопка формы, соответствующей типу 
опроса:
* круглая с галочкой внутри для опроса с единственным выбором
* квадратная с галочкой внутри для опроса с множественным выбором

Опрос может содержать несколько вопросов. Голосование за каждый вопрос происходит отдельно от других. 

Для голосования в вопросе с единственным выбором достаточно выбрать один из пунктов опроса, после чего каждая кнопка 
голосования заменяется на процент пользователей, проголосовавших за каждый вариант, и полосу, отражающую процент 
проголосовавших.  

Для голосования в опросе с множественным выбором требуется выбрать все пункты опроса и нажать кнопку "Голосовать". 
Дальнейший процесс аналогичен процессу, происходящему после голосования в опросе с единственным выбором. 

### Отменить голос
Отмена голоса в каждом вопросе также происходит отдельно от других вопросов.

Для отмены голоса в вопросе требуется нажать на объявление с отображенным вопросом, после чего будет показано 
всплывающее контекстное меню, в числе пунктов которого будет кнопка "Отменить голос". По нажатии на кнопку произойдет 
отмена голоса. 

### Собрать статистику опроса
Пользователь может собрать статистику опроса в случае, если он является:
* автором объявления с опросом
* администратором группы, в которую входит автор объявления
* администратором доски объявлений

Для сбора результатов нужно нажать на кнопку контекстного меню объявления, после чего выбрать соответствующий пункт меню
"Подробности", при выборе которого произойдет переход на страницу просмотра подробной статистики объявления. На странице 
также представлена статистика голосования в каждом вопросе прикрепленного опроса. 

Секция подробностей об опросе представляет собой карусель, каждый из экранов которой содержит статистику одного из 
вопросов, а именно:
* текст вопроса
* варианты ответов
  * процент проголосовавших за конкретный вариант
  * количество проголосовавших и общий размер аудитории опроса
  * кнопка вывода списка проголосовавших (для неанонимных опросов)

В правом верхнем углу секции вопроса присутствует кнопка "Дополнительно", по нажатии которой открывается контекстное 
меню. В контекстном меню представлены пункты:
* редактировать
* выгрузить статистику

### Выгрузить результаты опроса
Присутствует возможность выгрузки результатов всего опроса. Возможность выгрузки статистики отдельного вопроса 
отсутствует.

При нажатии кнопки "Выгрузить статистику" контекстного меню опроса открывается всплывающее окно с выбором формата 
экспорта всего опроса. По окончании экспорта на экране появляется всплывающее сообщение с путем к файлу с выгруженной 
статистикой опроса.

### Создать объявление
При создании объявления пользователь в обязательном порядке указывает текст объявления, а также указывает группы 
получателей. Присутствует возможность прикрепить вложение. 

При нажатии кнопки "Прикрепить" открывается контекстное меню с типами вложения:
* галерея (медиафайл)
* документ
* опрос

При выборе медиафайла присутствует возможность добавить только медиафайл. При выборе документа присутствует возможность 
добавить только документ. При выборе опроса никакие другие типы вложений добавить нельзя.

Прикрепленное вложение на этапе создания объявления можно удалить.

Опционально задаются отложенная публикация и автоматическое сокрытие объявления. При включении данных опций на экране
появляется соответствующий опции элемент выбора времени. Нельзя создать объявление, момент сокрытия которого наступит 
раньше момента публикации.

[//]: # (todo описать выбор получателей)

