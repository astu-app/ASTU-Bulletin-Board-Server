@startuml
'https://plantuml.com/class-diagram

hide methods

entity "Пользователь" as user {
    Фамилия
    Имя
    Отчество
}

entity "Объявление" as notification { 
    Текст
    Флаг скрытой публикации - <font color="green">объявление скрыто или открыто</font>
    Флаг автоматического сокрытия
    Срок автоматического сокрытия
    Флаг отложенной публикации
    Срок отложенной публикации
    Момент публикации
}
notification }o--|| user : Автор

entity "Файл" as attachedFile { 
    Название
    Содержимое
    Хэш
    Количество ссылок
}
notification }|--o{ attachedFile

entity "Опрос" as survey {
    Флаг открытости
    Флаг анонимности
    Флаг множественного выбора
    Флаг ограничения времени голосования
    Срок окончания времени голосования
}
notification ||--o| survey
user }o--o{ survey : Проголосовал в

entity "Вопрос" as question {
    Текст вопроса
    Количество проголосовавших
}
survey ||--|{ question

entity "Вариант ответа" as answer {
    Текст вариант ответа
    Количество проголосовавших
}
question ||--{ "2..*" answer
user }o--o{ answer : Выбрал

entity "Группа пользователей" as userGroup { 
    Название
}
notification }o--|{ userGroup
user }o--|{ userGroup : Участник
user |o-right-o{ userGroup : Администратор
userGroup |o--o{ userGroup : Подчинена максимум одной \n Является родителем любого количества

entity "Права пользователя в группе" as userRightsInGroup {}
hide userRightsInGroup members
user ||--|{ userRightsInGroup
userGroup ||--o{ userRightsInGroup



@enduml
